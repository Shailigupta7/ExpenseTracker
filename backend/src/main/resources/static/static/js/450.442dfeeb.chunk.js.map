{"version":3,"file":"static/js/450.442dfeeb.chunk.js","mappings":"4LAmGA,QA7FA,WACI,MAAMA,GAAWC,EAAAA,EAAAA,OAEX,MAAEC,IAAUC,EAAAA,EAAAA,OAEZ,SAACC,EAAQ,aAAEC,EAAY,MAAEC,EAAK,UAAEC,IAAaC,EAAAA,EAAAA,MAC7CC,GAAWC,EAAAA,EAAAA,QAAO,CAAC,GACzBD,EAASE,QAAUL,EAAM,WAAY,IAErC,MAAOM,EAAgBC,IAAoBC,EAAAA,EAAAA,UAAS,KAC7CC,EAAWC,IAAgBF,EAAAA,EAAAA,WAAS,GA8B3C,OACIG,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UACtBC,EAAAA,EAAAA,MAAA,QAAMF,UAAU,YAAaG,SAAUhB,GA7B9BiB,UACbN,GAAa,SACPO,EAAAA,EAAYC,cAActB,EAAOuB,EAAKhB,UAAUiB,MACjDC,IACGC,QAAQC,IAAIF,GACiB,YAAzBA,EAASF,KAAKK,QACdjB,EAAiB,IACjBb,EAAS,gBAGTa,EAAiB,+CACrB,IAEHkB,IACG,GAAIA,EAAMJ,SAAU,CAChB,MAAMK,EAAaD,EAAMJ,SAASF,KAAKE,SACvCd,EAAiBmB,GACjBJ,QAAQC,IAAIE,EAAMJ,SACtB,MACId,EAAiB,+CACrB,IAIRG,GAAa,EAAM,IAK+CG,SAAA,EAC1DF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,oBAEkB,KAAjBP,IAAwBK,EAAAA,EAAAA,KAAA,KAAAE,SAAIP,KAGjCQ,EAAAA,EAAAA,MAAA,OAAKF,UAAU,YAAWC,SAAA,EACtBF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,cAAgBF,EAAAA,EAAAA,KAAA,UACvBA,EAAAA,EAAAA,KAAA,SACIgB,KAAK,cAEE7B,EAAS,WAAY,CACpB8B,SAAU,wBACVC,UAAW,CACPC,MAAM,EACNC,QAAS,+CAKxB9B,EAAU+B,OAAO7B,WAAYQ,EAAAA,EAAAA,KAAA,SAAAE,SAAQZ,EAAU+B,OAAO7B,SAAS4B,cAGpEjB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,YAAWC,SAAA,EACtBF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,sBAAwBF,EAAAA,EAAAA,KAAA,UAC/BA,EAAAA,EAAAA,KAAA,SACIgB,KAAK,cAEE7B,EAAS,YAAa,CACrB8B,SAAU,gCACVC,UAAW,CACPC,MAAM,EACNC,QAAS,2CAEbE,SAAUC,GAASA,IAAU/B,EAASE,SAAW,8BAI5DJ,EAAU+B,OAAOG,YAAaxB,EAAAA,EAAAA,KAAA,SAAAE,SAAQZ,EAAU+B,OAAOG,UAAUJ,cAGtEpB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UACtBF,EAAAA,EAAAA,KAAA,SAAOgB,KAAK,SAASG,MAAOrB,EAAY,cAAgB,kBACvDG,UAAWH,EAAY,6BAA+B,6BAM3E,C","sources":["pages/auth/forgotpassword/changePassword.js"],"sourcesContent":["import {useRef, useState} from 'react';\nimport '../../../assets/styles/register.css';\nimport { useNavigate, useParams} from 'react-router-dom';\nimport {useForm} from 'react-hook-form';\nimport AuthService from '../../../services/auth.service';\n\nfunction ForgotPasswordChangePassword() {\n    const navigate = useNavigate();\n    \n    const { email } = useParams(); \n\n    const {register, handleSubmit, watch, formState} = useForm();\n    const password = useRef({});\n    password.current = watch('password', \"\");\n\n    const [response_error, setResponseError] = useState(\"\");\n    const [isLoading, setIsLoading] = useState(false);\n\n\n    const onSubmit = async (data) => {\n        setIsLoading(true);     \n        await AuthService.resetPassword(email, data.password).then(\n            (response) => {\n                console.log(response);\n                if (response.data.status === \"SUCCESS\"){\n                    setResponseError(\"\");\n                    navigate(`/auth/login`);\n                }\n                else {\n                    setResponseError(\"Reset password failed: Something went wrong!\")\n                }\n            },\n            (error) => {\n                if (error.response) {\n                    const resMessage = error.response.data.response\n                    setResponseError(resMessage);\n                    console.log(error.response);\n                }else {\n                    setResponseError(\"Reset password failed: Something went wrong!\")\n                }\n                \n            }\n          );\n        setIsLoading(false);\n    }\n\n    return(\n        <div className='container'>\n            <form className=\"auth-form\"  onSubmit={handleSubmit(onSubmit)}>\n                <h2>Change password</h2>\n                {\n                    (response_error!==\"\") && <p>{response_error}</p>\n                }\n                \n                <div className='input-box'>\n                    <label>Password</label><br/>\n                    <input \n                        type='password'\n                        {\n                            ...register('password', {\n                                required: 'Password is required!',\n                                minLength: {\n                                    value:8,\n                                    message: \"Password must have atleast 8 characters\"\n                                }\n                            })\n                        }\n                    />\n                    {formState.errors.password && <small>{formState.errors.password.message}</small>}\n                </div>\n                \n                <div className='input-box'>\n                    <label>Confirm Password</label><br/>\n                    <input \n                        type='password'\n                        {\n                            ...register('cpassword', {\n                                required: 'Confirm password is required!',\n                                minLength: {\n                                    value:8,\n                                    message: \"Password must have atleast 8 characters\"\n                                },\n                                validate: cpass => cpass === password.current || \"Passwords do not match!\"\n                            })\n                        }\n                    />\n                    {formState.errors.cpassword && <small>{formState.errors.cpassword.message}</small>}\n                </div>\n                \n                <div className='input-box'>\n                    <input type='submit' value={isLoading ? \"Please wait\" : 'Change password'}\n                     className={isLoading ? \"button button-fill loading\" : \"button button-fill\"}\n                    />\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default ForgotPasswordChangePassword;"],"names":["navigate","useNavigate","email","useParams","register","handleSubmit","watch","formState","useForm","password","useRef","current","response_error","setResponseError","useState","isLoading","setIsLoading","_jsx","className","children","_jsxs","onSubmit","async","AuthService","resetPassword","data","then","response","console","log","status","error","resMessage","type","required","minLength","value","message","errors","validate","cpass","cpassword"],"sourceRoot":""}