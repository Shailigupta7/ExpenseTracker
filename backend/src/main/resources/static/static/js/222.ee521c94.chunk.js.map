{"version":3,"file":"static/js/222.ee521c94.chunk.js","mappings":"0NAsHA,QA9GA,WACI,MAAM,WAAEA,IAAeC,EAAAA,EAAAA,OACjB,SAAEC,EAAQ,aAAEC,EAAY,MAAEC,EAAK,UAAEC,IAAcC,EAAAA,EAAAA,OAC9CC,EAAWC,IAAgBC,EAAAA,EAAAA,WAAS,GACrCC,GAAWC,EAAAA,EAAAA,MAmCjB,OAjCAC,EAAAA,EAAAA,YAAU,KACN,MAAMC,EAAWC,KAAKC,MAAMC,aAAaC,QAAQ,mBAE7CJ,EAASb,YAAcA,EAEvBI,EAAM,CACFc,MAAOL,EAASM,aAChBC,KAAMC,OAAOR,EAASS,gBAAgBC,qBAG1CC,EAAAA,GAAMC,MAAM,wCAEhBT,aAAaU,WAAW,iBAAiB,GAC1C,CAACtB,EAAOJ,KAqBP2B,EAAAA,EAAAA,MAACC,EAAAA,EAAS,CAACC,YAAa,EAAEC,SAAA,EACtBC,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CAACC,MAAM,mBACdF,EAAAA,EAAAA,KAACG,EAAAA,GAAO,KACRP,EAAAA,EAAAA,MAAA,QAAMQ,UAAU,mBAAmBC,SAAUjC,GAtBpCkC,UACb7B,GAAa,SACP8B,EAAAA,EAAaC,eAAevC,EAAYwC,EAAKtB,MAAOsB,EAAKpB,MAAMqB,MAChEC,IACgC,YAAzBA,EAASF,KAAKG,QACdjC,EAAS,oBACb,IAEHe,IACGA,EAAMiB,SACFlB,EAAAA,GAAMC,MAAM,8CAE8C,IAGtEjB,GAAa,EAAM,IAOsDoC,MAAO,CAAEC,UAAW,QAASf,SAAA,EAC9FH,EAAAA,EAAAA,MAAA,OAAKQ,UAAU,YAAWL,SAAA,EACtBC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,mBAAqBC,EAAAA,EAAAA,KAAA,UAC5BA,EAAAA,EAAAA,KAAA,SACIX,KAAK,UACDlB,EAAS,QAAS,CAClB4C,SAAU,6BACVC,UAAW,CACPC,MAAO,GACPC,QAAS,oDAIpB5C,EAAU6C,OAAOhC,QAASa,EAAAA,EAAAA,KAAA,SAAAD,SAAQzB,EAAU6C,OAAOhC,MAAM+B,cAG9DtB,EAAAA,EAAAA,MAAA,OAAKQ,UAAU,YAAWL,SAAA,EACtBC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,sBAAwBC,EAAAA,EAAAA,KAAA,UAC/BJ,EAAAA,EAAAA,MAAA,OAAKQ,UAAU,QAAOL,SAAA,EAClBC,EAAAA,EAAAA,KAAA,QAAAD,UACIH,EAAAA,EAAAA,MAAA,SAAAG,SAAA,EACIC,EAAAA,EAAAA,KAAA,SACIX,KAAK,QACL+B,GAAI,EACJH,MAAO,KACH9C,EAAS,OAAQ,CACjB4C,SAAU,oCAEhB,gBAIVf,EAAAA,EAAAA,KAAA,QAAAD,UACIH,EAAAA,EAAAA,MAAA,SAAAG,SAAA,EACIC,EAAAA,EAAAA,KAAA,SACIX,KAAK,QACL+B,GAAI,EACJH,MAAO,KACH9C,EAAS,OAAQ,CACjB4C,SAAU,oCAEhB,iBAKbzC,EAAU6C,OAAO9B,OAAQW,EAAAA,EAAAA,KAAA,SAAAD,SAAQzB,EAAU6C,OAAO9B,KAAK6B,cAG5DtB,EAAAA,EAAAA,MAAA,OAAKQ,UAAU,YAAWL,SAAA,EACtBC,EAAAA,EAAAA,KAAA,SACIX,KAAK,SACL4B,MAAOzC,EAAY,YAAc,gBACjC4B,UAAW5B,EAAY,6BAA+B,wBAE1DwB,EAAAA,EAAAA,KAACqB,EAAAA,GAAI,CACDC,GAAG,oBACHlB,UAAU,iBAAgBL,UAC1BC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,qBAO9B,C,oEChHA,MAoGA,EAVqB,CACjBwB,mBA3FuBA,CAACC,EAAYC,EAAUC,IACvCC,EAAAA,EAAMC,IACTC,EAAAA,EAAe,sBACf,CACIC,QAASC,EAAAA,EAAYC,aACrBC,OAAQ,CACJC,WAAYV,EACZC,SAAUA,EACVC,UAAWA,KAoFvBS,YA9EgBA,CAACX,EAAYC,EAAUC,IAChCC,EAAAA,EAAMC,IACTC,EAAAA,EAAe,eACf,CACIC,QAASC,EAAAA,EAAYC,aACrBC,OAAQ,CACJC,WAAYV,EACZC,SAAUA,EACVC,UAAWA,KAuEvBU,oBAjEyBC,GAClBV,EAAAA,EAAMW,OACTT,EAAAA,EAAe,gBACf,CACIC,QAASC,EAAAA,EAAYC,aACrBC,OAAQ,CACJI,OAAQA,KA4DpBE,iBAtDqBA,IACdZ,EAAAA,EAAMC,IACTC,EAAAA,EAAe,mBACf,CACIC,QAASC,EAAAA,EAAYC,eAmD7BQ,eA9CmBA,CAACpD,EAAcI,IAC3BmC,EAAAA,EAAMc,KACTZ,EAAAA,EAAe,gBACf,CACIzC,aAAcA,EACdI,kBAAmBA,GAEvB,CACIsC,QAASC,EAAAA,EAAYC,eAuC7BxB,eAlCmBA,CAACvC,EAAYmB,EAAcI,IACvCmC,EAAAA,EAAMe,IACTb,EAAAA,EAAe,mBACf,CACIzC,aAAcA,EACdI,kBAAmBA,GAEvB,CACIsC,QAASC,EAAAA,EAAYC,aACrBC,OAAQ,CACJhE,WAAYA,KAyBxB0E,wBAnB6B1E,GACtB0D,EAAAA,EAAMW,OACTT,EAAAA,EAAe,mBACf,CACIC,QAASC,EAAAA,EAAYC,aACrBC,OAAQ,CACJhE,WAAYA,K","sources":["pages/admin/editCategory.js","services/adminService.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport Header from \"../../components/utils/header\";\nimport { useForm } from \"react-hook-form\";\nimport AdminService from \"../../services/adminService\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport Container from \"../../components/utils/Container\";\nimport toast, { Toaster } from \"react-hot-toast\";\n\nfunction EditCategory() {\n    const { categoryId } = useParams();\n    const { register, handleSubmit, reset, formState } = useForm();\n    const [isLoading, setIsLoading] = useState(false);\n    const navigate = useNavigate()\n\n    useEffect(() => {\n        const category = JSON.parse(localStorage.getItem('categoryToEdit'));\n\n        if (category.categoryId == categoryId) {\n\n            reset({\n                cname: category.categoryName,\n                type: String(category.transactionType.transactionTypeId)\n            })\n        } else {\n            toast.error(\"Faild to fetch category information!\")\n        }\n        localStorage.removeItem('categoryToEdit')\n    }, [reset, categoryId])\n\n    const onSubmit = async (data) => {\n        setIsLoading(true)\n        await AdminService.updatecategory(categoryId, data.cname, data.type).then(\n            (response) => {\n                if (response.data.status === 'SUCCESS') {\n                    navigate('/admin/categories')\n                }\n            },\n            (error) => {\n                error.response ?\n                    toast.error(\"Failed to update category: Try again later!\")\n                    :\n                    toast.error(\"Failed to update category: Try again later!\")\n            }\n        )\n        setIsLoading(false)\n    }\n\n    return (\n        <Container activeNavId={6}>\n            <Header title=\"Edit category\" />\n            <Toaster/>\n            <form className=\"auth-form t-form\" onSubmit={handleSubmit(onSubmit)} style={{ marginTop: '25px' }}>\n                <div className='input-box'>\n                    <label>Category name</label><br />\n                    <input\n                        type='text'\n                        {...register('cname', {\n                            required: \"Category name is required!\",\n                            maxLength: {\n                                value: 30,\n                                message: \"Category name can have atmost 30 characters!\"\n                            }\n                        })}\n                    />\n                    {formState.errors.cname && <small>{formState.errors.cname.message}</small>}\n                </div>\n\n                <div className='input-box'>\n                    <label>Transaction type</label><br />\n                    <div className='radio'>\n                        <span>\n                            <label>\n                                <input\n                                    type='radio'\n                                    id={1}\n                                    value={1}\n                                    {...register('type', {\n                                        required: \"Transaction type is required!\"\n                                    })}\n                                />\n                                Expense\n                            </label>\n                        </span>\n                        <span>\n                            <label>\n                                <input\n                                    type='radio'\n                                    id={2}\n                                    value={2}\n                                    {...register('type', {\n                                        required: \"Transaction type is required!\"\n                                    })}\n                                />\n                                Income\n                            </label>\n                        </span>\n                    </div>\n                    {formState.errors.type && <small>{formState.errors.type.message}</small>}\n                </div>\n\n                <div className='input-box'>\n                    <input\n                        type='submit'\n                        value={isLoading ? \"Saving...\" : 'Save category'}\n                        className={isLoading ? \"button button-fill loading\" : \"button button-fill\"}\n                    />\n                    <Link\n                        to='/admin/categories'\n                        className='button outline'>\n                        <span>Cancel</span>\n                    </Link>\n                </div>\n            </form>\n\n        </Container>\n    )\n}\n\nexport default EditCategory;","import axios from \"axios\";\nimport AuthService from \"./auth.service\";\nimport API_BASE_URL from \"./auth.config\";\n\nconst getAllTransactions = (pagenumber, pageSize, searchKey) => {\n    return axios.get(\n        API_BASE_URL + \"/transaction/getAll\",\n        {\n            headers: AuthService.authHeader(),\n            params: {\n                pageNumber: pagenumber,\n                pageSize: pageSize,\n                searchKey: searchKey\n            }\n        }\n    )\n}\n\nconst getAllUsers = (pagenumber, pageSize, searchKey) => {\n    return axios.get(\n        API_BASE_URL + \"/user/getAll\",\n        {\n            headers: AuthService.authHeader(),\n            params: {\n                pageNumber: pagenumber,\n                pageSize: pageSize,\n                searchKey: searchKey\n            }\n        }\n    )\n}\n\nconst disableOrEnableUser = (userId) => {\n    return axios.delete(\n        API_BASE_URL + \"/user/disable\",\n        {\n            headers: AuthService.authHeader(),\n            params: {\n                userId: userId\n            }\n        }\n    )\n}\n\nconst getAllcategories = () => {\n    return axios.get(\n        API_BASE_URL + '/category/getAll', \n        {\n            headers: AuthService.authHeader()\n        }\n    )\n}\n\nconst addNewcategory = (categoryName, transactionTypeId) => {\n    return axios.post(\n        API_BASE_URL + '/category/new', \n        {\n            categoryName: categoryName,\n            transactionTypeId: transactionTypeId\n        },\n        {\n            headers: AuthService.authHeader()\n        }\n    )\n}\n\nconst updatecategory = (categoryId, categoryName, transactionTypeId) => {\n    return axios.put(\n        API_BASE_URL + '/category/update', \n        {\n            categoryName: categoryName,\n            transactionTypeId: transactionTypeId\n        },\n        {\n            headers: AuthService.authHeader(),\n            params: {\n                categoryId: categoryId\n            }\n        }\n    )\n}\n\nconst disableOrEnableCategory = (categoryId) => {\n    return axios.delete(\n        API_BASE_URL + \"/category/delete\",\n        {\n            headers: AuthService.authHeader(),\n            params: {\n                categoryId: categoryId\n            }\n        }\n    )\n}\n\nconst AdminService = {\n    getAllTransactions,\n    getAllUsers,\n    disableOrEnableUser,\n    getAllcategories,\n    addNewcategory,\n    updatecategory,\n    disableOrEnableCategory,\n}\n\nexport default AdminService;"],"names":["categoryId","useParams","register","handleSubmit","reset","formState","useForm","isLoading","setIsLoading","useState","navigate","useNavigate","useEffect","category","JSON","parse","localStorage","getItem","cname","categoryName","type","String","transactionType","transactionTypeId","toast","error","removeItem","_jsxs","Container","activeNavId","children","_jsx","Header","title","Toaster","className","onSubmit","async","AdminService","updatecategory","data","then","response","status","style","marginTop","required","maxLength","value","message","errors","id","Link","to","getAllTransactions","pagenumber","pageSize","searchKey","axios","get","API_BASE_URL","headers","AuthService","authHeader","params","pageNumber","getAllUsers","disableOrEnableUser","userId","delete","getAllcategories","addNewcategory","post","put","disableOrEnableCategory"],"sourceRoot":""}