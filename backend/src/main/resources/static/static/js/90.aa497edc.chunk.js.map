{"version":3,"file":"static/js/90.aa497edc.chunk.js","mappings":"iLAmHA,QA9GA,WAEI,MAAMA,GAAWC,EAAAA,EAAAA,OAEX,MAAEC,IAAUC,EAAAA,EAAAA,OAEZ,SAACC,EAAQ,aAAEC,EAAY,UAAEC,IAAaC,EAAAA,EAAAA,OAErCC,EAAgBC,IAAoBC,EAAAA,EAAAA,UAAS,KAC7CC,EAAWC,IAAgBF,EAAAA,EAAAA,WAAS,IACpCG,EAAWC,IAAgBJ,EAAAA,EAAAA,WAAS,GAwD3C,OACIK,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UAClBC,EAAAA,EAAAA,MAAA,QAAMF,UAAU,YAAaG,SAAUd,GAxDlCe,UACbR,GAAa,SACUS,EAAAA,EAAYC,yBAAyBC,EAAKC,MAAMC,MAClEC,IACGC,QAAQC,IAAIF,EAASH,KAAKM,SACG,YAAzBH,EAASH,KAAKO,QACdrB,EAAiB,IACjBT,EAAS,sCAAD+B,OAAuC7B,KAE/CO,EAAiB,6CACrB,IAEHuB,IACG,GAAIA,EAAMN,SAAU,CAChB,MAAMO,EAAaD,EAAMN,SAASH,KAAKG,SACvCjB,EAAiBwB,GACjBN,QAAQC,IAAIK,EAChB,MACIN,QAAQC,IAAII,EAAMH,SAClBpB,EAAiB,6CACrB,IAGRG,GAAa,EAAM,IAiCmDK,SAAA,EAC9DF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,uBAAsBF,EAAAA,EAAAA,KAAA,SAGtBF,GACIK,EAAAA,EAAAA,MAAA,OAAKF,UAAU,MAAKC,SAAA,CAAC,oBAAkBf,EAAM,SACzB,KAAjBM,GACDU,EAAAA,EAAAA,MAAA,OAAKF,UAAU,MAAKC,SAAA,CAAC,2CAAuCF,EAAAA,EAAAA,KAAA,QAAMmB,MAAO,CAACC,WAAW,IAAMC,MAAM,SAASnB,SAAEf,IAAa,QACzHa,EAAAA,EAAAA,KAAAsB,EAAAA,SAAA,IAIY,KAAjB7B,IAAwBO,EAAAA,EAAAA,KAAA,KAAAE,SAAIT,KAGjCU,EAAAA,EAAAA,MAAA,OAAKF,UAAU,YAAWC,SAAA,EACtBF,EAAAA,EAAAA,KAAA,SACAuB,YAAY,0BACRC,KAAK,UACDnC,EAAS,OAAQ,CACjBoC,SAAU,wBAGjBlC,EAAUmC,OAAOjB,OAAQT,EAAAA,EAAAA,KAAA,SAAAE,SAAQX,EAAUmC,OAAOjB,KAAKK,cAG5Dd,EAAAA,EAAAA,KAAA,OAAKC,UAAU,MAAMkB,MAAO,CAACC,WAAY,IAAKO,UAAW,UAAUzB,SAAC,+EACpEF,EAAAA,EAAAA,KAAA,UAEAA,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UACtBF,EAAAA,EAAAA,KAAA,SAAOwB,KAAK,SAASI,MAAOhC,EAAY,YAAc,SACrDK,UAAWL,EAAY,6BAA+B,0BAI3DI,EAAAA,EAAAA,KAAA,UACAG,EAAAA,EAAAA,MAAA,OAAKF,UAAU,MAAKC,SAAA,CAAC,qBAAiBF,EAAAA,EAAAA,KAAA,QAAMmB,MAAO,CAACU,OAAQ,WAAYC,QAlEjEzB,UACfX,EAAiB,IACjBK,GAAa,SACUO,EAAAA,EAAYyB,oCAAoC5C,GAAOuB,MACzEC,IACGC,QAAQC,IAAIF,EAASH,MACQ,YAAzBG,EAASH,KAAKO,QACdH,QAAQC,IAAIF,EAASH,MACrBd,EAAiB,KAEjBA,EAAiB,4CACrB,IAGHuB,IACG,GAAIA,EAAMN,SAAU,CAChB,MAAMO,EAAaD,EAAMN,SAASH,KAAKG,SACvCjB,EAAiBwB,GACjBN,QAAQC,IAAII,EAChB,MACIL,QAAQC,IAAII,GACZvB,EAAiB,4CACrB,IAGRK,GAAa,EAAM,EAyCkFE,UAAU,cAAaC,SAAEN,EAAY,eAAiB,uBAInK,C","sources":["pages/auth/forgotpassword/forgotPasswordCodeVerification.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport {useForm} from 'react-hook-form';\nimport AuthService from '../../../services/auth.service';\n\nfunction ForgotPasswordCodeVerification() {\n\n    const navigate = useNavigate();\n\n    const { email } = useParams(); \n\n    const {register, handleSubmit, formState} = useForm();\n\n    const [response_error, setResponseError] = useState(\"\");\n    const [isLoading, setIsLoading] = useState(false);\n    const [isSending, setIsSending] = useState(false);\n\n    const onSubmit = async (data) => {\n        setIsLoading(true)        \n        const response = await AuthService.forgotPasswordverifyCode(data.code).then(\n            (response) => {\n                console.log(response.data.message);\n                if (response.data.status === 'SUCCESS') {\n                    setResponseError(\"\")\n                    navigate(`/auth/forgotPassword/resetPassword/${email}`);\n                } else {\n                    setResponseError('Verification failed: Something went wrong!');\n                }\n            },\n            (error) => {\n                if (error.response) {\n                    const resMessage = error.response.data.response;\n                    setResponseError(resMessage);\n                    console.log(resMessage);\n                }else {\n                    console.log(error.message);\n                    setResponseError(\"Verification failed: Something went wrong!\")\n                }\n            }\n          );\n        setIsLoading(false);\n    }\n\n    const resendCode = async() =>{\n        setResponseError(\"\")\n        setIsSending(true)        \n        const response = await AuthService.resendResetPasswordVerificationCode(email).then(\n            (response) => {\n                console.log(response.data);\n                if (response.data.status === \"SUCCESS\") {\n                    console.log(response.data);\n                    setResponseError(\"\");\n                }else {\n                    setResponseError(\"Verification failed: Cannot resend email!\")\n                }\n                \n            },\n            (error) => {\n                if (error.response) {\n                    const resMessage = error.response.data.response;\n                    setResponseError(resMessage);\n                    console.log(error);\n                }else {\n                    console.log(error);\n                    setResponseError(\"Verification failed: Cannot resend email!\")\n                }\n            }\n          );\n        setIsSending(false);\n    }\n\n    return (\n        <div className='container'>\n                <form className=\"auth-form\"  onSubmit={handleSubmit(onSubmit)}>\n                <h2>Verify your email</h2><br/>\n                \n                {\n                    isSending ? \n                        <div className='msg'>Sending email to {email}...</div> \n                        : (response_error===\"\") \n                        ? <div className='msg'>The verification code has been sent to <span style={{fontWeight:600,  color:'green'}}>{email}</span>.</div>\n                        : <></>\n                }\n\n                {\n                    (response_error!==\"\") && <p>{response_error}</p>\n                }\n                \n                <div className='input-box'>\n                    <input \n                    placeholder='Enter verification code'\n                        type='text'\n                        {...register('code', {\n                            required: \"Code is required!\",\n                        })}\n                    />\n                    {formState.errors.code && <small>{formState.errors.code.message}</small>}\n                </div>\n\n                <div className='msg' style={{fontWeight: 600, fontStyle: 'italic'}}>Please not that the verification code will be expired with in 15 minutes!</div>\n                <br/>\n\n                <div className='input-box'>\n                    <input type='submit' value={isLoading ? \"Verifying\" : 'Verify'}\n                     className={isLoading ? \"button button-fill loading\" : \"button button-fill\"}\n                    />\n                </div>\n\n                <br/>\n                <div className='msg'>Having problems? <span style={{cursor: 'pointer'}} onClick={resendCode} className='inline-link'>{isLoading ? \"Sending code\" : 'Resend code'}</span></div>\n            </form>\n        </div>\n    );\n}\n\nexport default ForgotPasswordCodeVerification;"],"names":["navigate","useNavigate","email","useParams","register","handleSubmit","formState","useForm","response_error","setResponseError","useState","isLoading","setIsLoading","isSending","setIsSending","_jsx","className","children","_jsxs","onSubmit","async","AuthService","forgotPasswordverifyCode","data","code","then","response","console","log","message","status","concat","error","resMessage","style","fontWeight","color","_Fragment","placeholder","type","required","errors","fontStyle","value","cursor","onClick","resendResetPasswordVerificationCode"],"sourceRoot":""}