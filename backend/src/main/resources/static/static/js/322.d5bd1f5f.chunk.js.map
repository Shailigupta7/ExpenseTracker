{"version":3,"file":"static/js/322.d5bd1f5f.chunk.js","mappings":"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","sources":["components/utils/pageInfo.js","components/utils/search.js","hooks/usePagination.js","pages/admin/transactions.js","services/adminService.js"],"sourcesContent":["import { memo } from \"react\";\n\nconst PageInfo = memo(({ info, onPrevClick, onNextClick, pageNumber, noOfPages }) => {\n    return (\n        <div className=\"page-info\">\n            <span>{info}</span>\n            <button onClick={onPrevClick} className={pageNumber == 0 ? \"disable\" : \"\"}><i class='fa fa-caret-left' aria-hidden='true'></i></button>\n            <button onClick={onNextClick} className={pageNumber + 1 == noOfPages ? \"disable\" : \"\"}><i class='fa fa-caret-right' aria-hidden='true'></i></button>\n        </div>\n    )\n})\n\nexport default PageInfo;","import { memo } from \"react\";\n\nconst Search = memo(({ onChange, placeholder }) => {\n    return (\n        <input\n            type='text'\n            placeholder={placeholder}\n            onChange={(e) => onChange(e.target.value)}\n        />\n    )\n})\n\nexport default Search;","import { useState } from \"react\";\n\nfunction usePagination(initialSortField = null) {\n    const pageSize = 10;\n    const [pageNumber, setPageNumber] = useState(0);\n    const [noOfPages, setNoOfPages] = useState(1);\n    const [noOfRecords, setNoOfRecords] = useState(0);\n    const [sortField, setSortField] = useState(initialSortField)\n    const [sortDirec, setSortDirec] = useState('DESC')\n    const [searchKey, setSearchKey] = useState('');\n\n    const onPrevClick = () => {\n        if (pageNumber !== 0) {\n            setPageNumber(pageNumber - 1)\n        }\n    }\n\n    const onNextClick = () => {\n        setPageNumber(pageNumber + 1)\n    }\n\n    const getPageInfo = () => {\n        const start = (pageNumber * pageSize) + 1\n        const end = pageNumber + 1 === noOfPages ? noOfRecords : (pageNumber * pageSize) + pageSize\n\n        return String(start) + \" to \" + String(end) + \" of \" + String(noOfRecords) + \" records\"\n    }\n\n    return {\n        pageSize, pageNumber, noOfPages, sortField, sortDirec, searchKey,\n        onNextClick, onPrevClick, setNoOfPages, setNoOfRecords, setSortField, setSortDirec, setSearchKey, getPageInfo\n    }\n}\n\nexport default usePagination;","import { useEffect, useState } from \"react\";\nimport AdminService from \"../../services/adminService\";\nimport '../../assets/styles/user.css'\nimport Header from \"../../components/utils/header\";\nimport Loading from \"../../components/utils/loading\";\nimport Search from \"../../components/utils/search\";\nimport PageInfo from \"../../components/utils/pageInfo\";\nimport usePagination from \"../../hooks/usePagination\";\nimport Info from \"../../components/utils/Info\";\nimport Container from \"../../components/utils/Container\";\nimport toast, { Toaster } from \"react-hot-toast\";\n\nfunction AdminTransactionsManagement() {\n\n    const [data, setData] = useState([]);\n    const [isFetching, setIsFetching] = useState(true);\n\n    const {\n        pageSize, pageNumber, noOfPages, searchKey,\n        onNextClick, onPrevClick, setNoOfPages, setNoOfRecords, setSearchKey, getPageInfo\n    } = usePagination()\n\n\n    const getTransactions = async () => {\n        await AdminService.getAllTransactions(pageNumber, pageSize, searchKey).then(\n            (response) => {\n                if (response.data.status === 'SUCCESS') {\n                    setData(response.data.response.data)\n                    setNoOfPages(response.data.response.totalNoOfPages)\n                    setNoOfRecords(response.data.response.totalNoOfRecords)\n                    return\n                }\n            },\n            (error) => {\n                toast.error(\"Failed to fetch all transactions: Try again later!\")\n            }\n        )\n        setIsFetching(false);\n    }\n\n    useEffect(() => {\n        getTransactions();\n    }, [searchKey, pageNumber])\n\n    return (\n        <Container activeNavId={4}>\n            <Header title=\"Transactions\" />\n            <Toaster/>\n            {(isFetching) && <Loading />}\n            {(!isFetching) &&\n                <>\n                    <div className=\"utils page\">\n                        <Search onChange={(val) => setSearchKey(val)} placeholder=\"Search transactions\" />\n                        <PageInfo info={getPageInfo()} onPrevClick={onPrevClick} onNextClick={onNextClick}\n                            pageNumber={pageNumber} noOfPages={noOfPages}\n                        />\n                    </div>\n                    {(data.length === 0) && <Info text={\"No transactions found!\"} />}\n                    {(data.length !== 0) && (\n                        <table>\n                            <TransactionsTableHeader />\n                            <TransactionsTableBody data={data} />\n                        </table>\n                    )}\n                </>\n            }\n        </Container>\n    )\n}\n\nexport default AdminTransactionsManagement;\n\n\nfunction TransactionsTableHeader() {\n    return (\n        <tr>\n            <th>Transaction Id</th> <th>Email</th>\n            <th>Description</th> <th>Amount</th>\n            <th>Category</th> <th>Date</th>\n        </tr>\n    )\n}\nfunction TransactionsTableBody({ data }) {\n    return data.map((item) => {\n        return (\n            <tr key={item.transactionId}>\n                <td>\n                    <span>\n                        {\"T\" + String(item.transactionId).padStart(5, '0')}\n                    </span>\n                </td>\n                <td>{item.userEmail}</td>\n                <td>{item.description || \"-\"}</td>\n                <td>\n                    {\n                        item.transactionType === 1 ? \"- \" : \"+ \"\n                    }\n                    {item.amount}\n                </td>\n                <td>{item.categoryName}</td>\n                <td>\n                    {\n                        new Date(item.date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: '2-digit' })\n                    }\n                </td>\n            </tr>\n        )\n    })\n}","import axios from \"axios\";\nimport AuthService from \"./auth.service\";\nimport API_BASE_URL from \"./auth.config\";\n\nconst getAllTransactions = (pagenumber, pageSize, searchKey) => {\n    return axios.get(\n        API_BASE_URL + \"/transaction/getAll\",\n        {\n            headers: AuthService.authHeader(),\n            params: {\n                pageNumber: pagenumber,\n                pageSize: pageSize,\n                searchKey: searchKey\n            }\n        }\n    )\n}\n\nconst getAllUsers = (pagenumber, pageSize, searchKey) => {\n    return axios.get(\n        API_BASE_URL + \"/user/getAll\",\n        {\n            headers: AuthService.authHeader(),\n            params: {\n                pageNumber: pagenumber,\n                pageSize: pageSize,\n                searchKey: searchKey\n            }\n        }\n    )\n}\n\nconst disableOrEnableUser = (userId) => {\n    return axios.delete(\n        API_BASE_URL + \"/user/disable\",\n        {\n            headers: AuthService.authHeader(),\n            params: {\n                userId: userId\n            }\n        }\n    )\n}\n\nconst getAllcategories = () => {\n    return axios.get(\n        API_BASE_URL + '/category/getAll', \n        {\n            headers: AuthService.authHeader()\n        }\n    )\n}\n\nconst addNewcategory = (categoryName, transactionTypeId) => {\n    return axios.post(\n        API_BASE_URL + '/category/new', \n        {\n            categoryName: categoryName,\n            transactionTypeId: transactionTypeId\n        },\n        {\n            headers: AuthService.authHeader()\n        }\n    )\n}\n\nconst updatecategory = (categoryId, categoryName, transactionTypeId) => {\n    return axios.put(\n        API_BASE_URL + '/category/update', \n        {\n            categoryName: categoryName,\n            transactionTypeId: transactionTypeId\n        },\n        {\n            headers: AuthService.authHeader(),\n            params: {\n                categoryId: categoryId\n            }\n        }\n    )\n}\n\nconst disableOrEnableCategory = (categoryId) => {\n    return axios.delete(\n        API_BASE_URL + \"/category/delete\",\n        {\n            headers: AuthService.authHeader(),\n            params: {\n                categoryId: categoryId\n            }\n        }\n    )\n}\n\nconst AdminService = {\n    getAllTransactions,\n    getAllUsers,\n    disableOrEnableUser,\n    getAllcategories,\n    addNewcategory,\n    updatecategory,\n    disableOrEnableCategory,\n}\n\nexport default AdminService;"],"names":["memo","_ref","info","onPrevClick","onNextClick","pageNumber","noOfPages","_jsxs","className","children","_jsx","onClick","class","onChange","placeholder","type","e","target","value","initialSortField","arguments","length","undefined","setPageNumber","useState","setNoOfPages","noOfRecords","setNoOfRecords","sortField","setSortField","sortDirec","setSortDirec","searchKey","setSearchKey","pageSize","getPageInfo","end","String","data","setData","isFetching","setIsFetching","usePagination","useEffect","async","AdminService","getAllTransactions","then","response","status","totalNoOfPages","totalNoOfRecords","error","toast","getTransactions","Container","activeNavId","Header","title","Toaster","Loading","_Fragment","Search","val","PageInfo","Info","text","TransactionsTableHeader","TransactionsTableBody","map","item","transactionId","padStart","userEmail","description","transactionType","amount","categoryName","Date","date","toLocaleDateString","year","month","day","pagenumber","axios","get","API_BASE_URL","headers","AuthService","authHeader","params","getAllUsers","disableOrEnableUser","userId","delete","getAllcategories","addNewcategory","transactionTypeId","post","updatecategory","categoryId","put","disableOrEnableCategory"],"sourceRoot":""}