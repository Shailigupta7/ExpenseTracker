{"version":3,"file":"static/js/773.c66d2332.chunk.js","mappings":"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","sources":["components/utils/pageInfo.js","components/utils/search.js","hooks/usePagination.js","pages/admin/users.js","services/adminService.js"],"sourcesContent":["import { memo } from \"react\";\n\nconst PageInfo = memo(({ info, onPrevClick, onNextClick, pageNumber, noOfPages }) => {\n    return (\n        <div className=\"page-info\">\n            <span>{info}</span>\n            <button onClick={onPrevClick} className={pageNumber == 0 ? \"disable\" : \"\"}><i class='fa fa-caret-left' aria-hidden='true'></i></button>\n            <button onClick={onNextClick} className={pageNumber + 1 == noOfPages ? \"disable\" : \"\"}><i class='fa fa-caret-right' aria-hidden='true'></i></button>\n        </div>\n    )\n})\n\nexport default PageInfo;","import { memo } from \"react\";\n\nconst Search = memo(({ onChange, placeholder }) => {\n    return (\n        <input\n            type='text'\n            placeholder={placeholder}\n            onChange={(e) => onChange(e.target.value)}\n        />\n    )\n})\n\nexport default Search;","import { useState } from \"react\";\n\nfunction usePagination(initialSortField = null) {\n    const pageSize = 10;\n    const [pageNumber, setPageNumber] = useState(0);\n    const [noOfPages, setNoOfPages] = useState(1);\n    const [noOfRecords, setNoOfRecords] = useState(0);\n    const [sortField, setSortField] = useState(initialSortField)\n    const [sortDirec, setSortDirec] = useState('DESC')\n    const [searchKey, setSearchKey] = useState('');\n\n    const onPrevClick = () => {\n        if (pageNumber !== 0) {\n            setPageNumber(pageNumber - 1)\n        }\n    }\n\n    const onNextClick = () => {\n        setPageNumber(pageNumber + 1)\n    }\n\n    const getPageInfo = () => {\n        const start = (pageNumber * pageSize) + 1\n        const end = pageNumber + 1 === noOfPages ? noOfRecords : (pageNumber * pageSize) + pageSize\n\n        return String(start) + \" to \" + String(end) + \" of \" + String(noOfRecords) + \" records\"\n    }\n\n    return {\n        pageSize, pageNumber, noOfPages, sortField, sortDirec, searchKey,\n        onNextClick, onPrevClick, setNoOfPages, setNoOfRecords, setSortField, setSortDirec, setSearchKey, getPageInfo\n    }\n}\n\nexport default usePagination;","import { useEffect, useState } from \"react\";\nimport AdminService from \"../../services/adminService\"\nimport Header from \"../../components/utils/header\";\nimport Loading from \"../../components/utils/loading\";\nimport usePagination from \"../../hooks/usePagination\";\nimport Search from \"../../components/utils/search\";\nimport PageInfo from \"../../components/utils/pageInfo\";\nimport Info from \"../../components/utils/Info\";\nimport Container from \"../../components/utils/Container\";\nimport toast, { Toaster } from \"react-hot-toast\";\n\nfunction AdminUsersManagement() {\n\n    const [data, setData] = useState([]);\n    const [isFetching, setIsFetching] = useState(true);\n\n    const {\n        pageSize, pageNumber, noOfPages, searchKey,\n        onNextClick, onPrevClick, setNoOfPages, setNoOfRecords, setSearchKey, getPageInfo\n    } = usePagination()\n\n    const getUsers = async () => {\n        await AdminService.getAllUsers(pageNumber, pageSize, searchKey).then(\n            (response) => {\n                if (response.data.status === 'SUCCESS') {\n                    setData(response.data.response.data)\n                    setNoOfPages(response.data.response.totalNoOfPages)\n                    setNoOfRecords(response.data.response.totalNoOfRecords)\n                    return\n                }\n                toast.error(\"Failed to fetch all users: Try again later!\")\n            },\n            (error) => {\n                toast.error(\"Failed to fetch all users: Try again later!\")\n            }\n        )\n        setIsFetching(false)\n    }\n\n    const disableOrEnable = async (userId) => {\n        await AdminService.disableOrEnableUser(userId).then(\n            (response) => {\n                if (response.data.status === 'SUCCESS') {\n                    window.location.reload()\n                    return\n                }\n                toast.error(\"Failed to update user: Try again later!\")\n            },\n            (error) => {\n                toast.error(\"Failed to update user: Try again later!\")\n            }\n        )\n    }\n\n    useEffect(() => {\n        getUsers();\n    }, [searchKey, pageNumber])\n\n    return (\n        <Container activeNavId={5}>\n            <Header title=\"Users\" />\n            <Toaster/>\n\n            {(isFetching) && <Loading />}\n            {(!isFetching) &&\n                <>\n                    <div className=\"utils page\">\n                        <Search onChange={(val) => setSearchKey(val)} placeholder=\"Search users\" />\n                        <PageInfo info={getPageInfo()} onPrevClick={onPrevClick} onNextClick={onNextClick}\n                            pageNumber={pageNumber} noOfPages={noOfPages}\n                        />\n                    </div>\n                    {(data.length === 0) && <Info text={\"No transactions found!\"} />}\n                    {(data.length !== 0) && (\n                        <table>\n                            <UsersTableHeader />\n                            <UsersTableBody data={data} disableOrEnable={disableOrEnable} />\n                        </table>\n                    )}\n                </>\n            }\n        </Container>\n    )\n}\n\nexport default AdminUsersManagement;\n\n\nfunction UsersTableHeader() {\n    return (\n        <tr>\n            <th>User Id</th> <th>Username</th> <th>Email</th>\n            <th>Tot. Expense(Rs.)</th> <th>Tot. Income(Rs.)</th>\n            <th>Tot. No. Transactions</th> <th>Status</th> <th>Action</th>\n        </tr>\n    )\n}\n\nfunction UsersTableBody({ data, disableOrEnable }) {\n    return (\n        data.map((item) => {\n            return (\n                <tr key={item.id}>\n                    <td>{\"U\" + String(item.id).padStart(5, '0')}</td>\n                    <td>{item.username}</td>\n                    <td>{item.email}</td>\n                    <td>Rs. {item.expense || 0.0}</td>\n                    <td>Rs. {item.income || 0.0}</td>\n                    <td>{item.noOfTransactions || 0}</td>\n                    {\n                        item.enabled ? <td style={{ color: '#6aa412' }}>Enabled</td> : <td style={{ color: '#ff0000' }}>Disabled</td>\n                    }\n\n                    <td>\n                        {\n                            (item.enabled) ?\n                                <button\n                                    onClick={() => disableOrEnable(item.id)}\n                                    style={{ backgroundColor: '#ff0000' }}\n                                >Disable\n                                </button> :\n                                <button\n                                    onClick={() => disableOrEnable(item.id)}\n                                    style={{ backgroundColor: '#6aa412' }}\n                                >Enable\n                                </button>\n                        }\n                    </td>\n                </tr>\n            )\n        })\n    )\n}","import axios from \"axios\";\nimport AuthService from \"./auth.service\";\nimport API_BASE_URL from \"./auth.config\";\n\nconst getAllTransactions = (pagenumber, pageSize, searchKey) => {\n    return axios.get(\n        API_BASE_URL + \"/transaction/getAll\",\n        {\n            headers: AuthService.authHeader(),\n            params: {\n                pageNumber: pagenumber,\n                pageSize: pageSize,\n                searchKey: searchKey\n            }\n        }\n    )\n}\n\nconst getAllUsers = (pagenumber, pageSize, searchKey) => {\n    return axios.get(\n        API_BASE_URL + \"/user/getAll\",\n        {\n            headers: AuthService.authHeader(),\n            params: {\n                pageNumber: pagenumber,\n                pageSize: pageSize,\n                searchKey: searchKey\n            }\n        }\n    )\n}\n\nconst disableOrEnableUser = (userId) => {\n    return axios.delete(\n        API_BASE_URL + \"/user/disable\",\n        {\n            headers: AuthService.authHeader(),\n            params: {\n                userId: userId\n            }\n        }\n    )\n}\n\nconst getAllcategories = () => {\n    return axios.get(\n        API_BASE_URL + '/category/getAll', \n        {\n            headers: AuthService.authHeader()\n        }\n    )\n}\n\nconst addNewcategory = (categoryName, transactionTypeId) => {\n    return axios.post(\n        API_BASE_URL + '/category/new', \n        {\n            categoryName: categoryName,\n            transactionTypeId: transactionTypeId\n        },\n        {\n            headers: AuthService.authHeader()\n        }\n    )\n}\n\nconst updatecategory = (categoryId, categoryName, transactionTypeId) => {\n    return axios.put(\n        API_BASE_URL + '/category/update', \n        {\n            categoryName: categoryName,\n            transactionTypeId: transactionTypeId\n        },\n        {\n            headers: AuthService.authHeader(),\n            params: {\n                categoryId: categoryId\n            }\n        }\n    )\n}\n\nconst disableOrEnableCategory = (categoryId) => {\n    return axios.delete(\n        API_BASE_URL + \"/category/delete\",\n        {\n            headers: AuthService.authHeader(),\n            params: {\n                categoryId: categoryId\n            }\n        }\n    )\n}\n\nconst AdminService = {\n    getAllTransactions,\n    getAllUsers,\n    disableOrEnableUser,\n    getAllcategories,\n    addNewcategory,\n    updatecategory,\n    disableOrEnableCategory,\n}\n\nexport default AdminService;"],"names":["memo","_ref","info","onPrevClick","onNextClick","pageNumber","noOfPages","_jsxs","className","children","_jsx","onClick","class","onChange","placeholder","type","e","target","value","initialSortField","arguments","length","undefined","setPageNumber","useState","setNoOfPages","noOfRecords","setNoOfRecords","sortField","setSortField","sortDirec","setSortDirec","searchKey","setSearchKey","pageSize","getPageInfo","end","String","data","setData","isFetching","setIsFetching","usePagination","useEffect","async","AdminService","getAllUsers","then","response","status","totalNoOfPages","totalNoOfRecords","toast","error","getUsers","Container","activeNavId","Header","title","Toaster","Loading","_Fragment","Search","val","PageInfo","Info","text","UsersTableHeader","UsersTableBody","disableOrEnable","disableOrEnableUser","userId","window","location","reload","map","item","id","padStart","username","email","expense","income","noOfTransactions","enabled","style","color","backgroundColor","getAllTransactions","pagenumber","axios","get","API_BASE_URL","headers","AuthService","authHeader","params","delete","getAllcategories","addNewcategory","categoryName","transactionTypeId","post","updatecategory","categoryId","put","disableOrEnableCategory"],"sourceRoot":""}