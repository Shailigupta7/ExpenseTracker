{"version":3,"file":"static/js/3.5c8aaa1f.chunk.js","mappings":"uNA+BA,QA7BA,SAA6BA,GAAY,IAAX,KAAEC,GAAMD,EAElC,OACIE,EAAAA,EAAAA,KAACC,EAAAA,EAAmB,CAAAC,UAEhBC,EAAAA,EAAAA,MAACC,EAAAA,EAAS,CACNC,MAAO,IACPC,OAAQ,IACRP,KAAMA,EACNQ,OAAQ,CACJC,IAAK,GACLC,MAAO,GACPC,KAAM,GACNC,OAAQ,IACVT,SAAA,EAEFF,EAAAA,EAAAA,KAACY,EAAAA,EAAa,CAACC,gBAAgB,SAC/Bb,EAAAA,EAAAA,KAACc,EAAAA,EAAK,CAACC,QAAQ,YAAYC,SAAS,UACpChB,EAAAA,EAAAA,KAACiB,EAAAA,EAAK,KACNjB,EAAAA,EAAAA,KAACkB,EAAAA,EAAO,KACRlB,EAAAA,EAAAA,KAACmB,EAAAA,EAAM,KACPnB,EAAAA,EAAAA,KAACoB,EAAAA,EAAI,CAACC,KAAK,WAAWN,QAAQ,eAAeO,KAAK,UAAUC,OAAO,UAAUC,UAAW,CAAEC,EAAG,MAC7FzB,EAAAA,EAAAA,KAACoB,EAAAA,EAAI,CAACC,KAAK,WAAWN,QAAQ,cAAcO,KAAK,SAASC,OAAO,gBAKjF,E,sDCaA,QAtCA,SAAmCG,GAC/B,MAAO3B,EAAM4B,IAAWC,EAAAA,EAAAA,UAAS,KAC1BC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAWC,IAAgBJ,EAAAA,EAAAA,WAAS,IAE3CK,EAAAA,EAAAA,YAAU,KACUC,iBACkBC,EAAAA,EAAYC,kBAAkBC,EAAAA,EAAYC,iBAAiBC,OAAOC,MAC3FC,IACgC,YAAzBA,EAAS1C,KAAK2C,QACdC,EAAaF,EAAS1C,KAAK0C,SAC/B,IAEHG,IACGd,GAAW,EAAK,IAGxBE,GAAa,EAAM,EAGvBa,EAAS,GACV,CAACnB,IAEJ,MAAMiB,EAAgBG,IAClB,MAAMC,EAAYrB,EAAOsB,KAAIlD,IAAwB,IAAvB,GAAEmD,EAAE,UAAEC,GAAWpD,EAC3C,MAAMqD,EAAYL,EAAYM,MAAMC,GAAMA,EAAEC,QAAUL,IACtD,MAAO,CACHA,KAAIC,YACJK,YAAaJ,EAAYA,EAAUK,aAAe,EAClDC,aAAcN,EAAYA,EAAUO,cAAgB,EACvD,IAEL/B,EAAQoB,EAAU,EAGtB,MAAO,CAAChD,EAAMgC,EAAWF,EAC7B,E,kCChBA,QAhBA,WACI,MAAMH,EAiBV,WACI,MAAMA,EAAS,GACTiC,EAAe,IAAIC,KAEzB,IAAK,IAAIC,EAAI,GAAIA,GAAK,EAAGA,IAAK,CAC1B,MAAMC,EAAO,IAAIF,KAAKD,EAAaI,cAAeJ,EAAaK,WAAaH,EAAG,GAC/EnC,EAAOuC,KAAK,CACRhB,GAAIa,EAAKE,WAAa,EACtBE,KAAMJ,EAAKC,cACXb,UAAWY,EAAKK,eAAe,QAAS,CAAEb,MAAO,UAEzD,CAEA,OAAO5B,CACX,CA/BmB0C,IACRrE,EAAMgC,EAAWF,GAAWwC,EAA0B3C,GAE7D,OACIvB,EAAAA,EAAAA,MAACmE,EAAAA,EAAS,CAACC,YAAa,EAAErE,SAAA,EACtBF,EAAAA,EAAAA,KAACwE,EAAAA,EAAM,CAACC,MAAM,gBACdzE,EAAAA,EAAAA,KAAC0E,EAAAA,GAAO,IACN3C,IAAc/B,EAAAA,EAAAA,KAAC2E,EAAAA,EAAO,IACtB9C,GAAY+C,EAAAA,GAAMhC,MAAM,iDACxBf,IAAY7B,EAAAA,EAAAA,KAAC6E,EAAAA,EAAI,CAACC,KAAK,oBACtBjD,IAAY7B,EAAAA,EAAAA,KAAC+E,EAAoB,CAAChF,KAAMA,MAGvD,C","sources":["components/userDashboard/incomeVsExpenseChart.js","hooks/useExpenseVsIncomeSummary.js","pages/user/statistics.js"],"sourcesContent":["import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\n\nfunction IncomeVsExpenseChart({ data }) {\n\n    return (\n        <ResponsiveContainer>\n\n            <LineChart\n                width={500}\n                height={300}\n                data={data}\n                margin={{\n                    top: 20,\n                    right: 20,\n                    left: 20,\n                    bottom: 10,\n                }}\n            >\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"monthName\" fontSize='10px' />\n                <YAxis />\n                <Tooltip />\n                <Legend />\n                <Line type=\"monotone\" dataKey=\"totalExpense\" name='Expense' stroke=\"#ff0000\" activeDot={{ r: 5 }} />\n                <Line type=\"monotone\" dataKey=\"totalIncome\" name='Income' stroke=\"#6aa412\" />\n            </LineChart>\n\n        </ResponsiveContainer>\n    )\n}\n\nexport default IncomeVsExpenseChart;","import { useEffect, useState } from \"react\";\nimport UserService from \"../services/userService\";\nimport AuthService from \"../services/auth.service\";\n\nfunction useExpenseVsIncomeSummary(months) {\n    const [data, setData] = useState([]);\n    const [isError, setIsError] = useState(false);\n    const [isLoading, setIsLoading] = useState(true)\n\n    useEffect(() => {\n        const getData = async () => {\n            const income_response = await UserService.getMonthlySummary(AuthService.getCurrentUser().email).then(\n                (response) => {\n                    if (response.data.status === \"SUCCESS\") {\n                        generateData(response.data.response)\n                    }\n                },\n                (error) => {\n                    setIsError(true)\n                }\n            )\n            setIsLoading(false)\n        }\n\n        getData()\n    }, [months])\n\n    const generateData = (fetchedData) => {\n        const finalData = months.map(({ id, monthName }) => {\n            const monthData = fetchedData.find((t) => t.month === id)\n            return {\n                id, monthName,\n                totalIncome: monthData ? monthData.total_income : 0,\n                totalExpense: monthData ? monthData.total_expense : 0\n            }\n        })\n        setData(finalData)\n    }\n\n    return [data, isLoading, isError]\n}\n\nexport default useExpenseVsIncomeSummary;","import IncomeVsExpenseChart from \"../../components/userDashboard/incomeVsExpenseChart\";\nimport Header from \"../../components/utils/header\";\nimport Loading from '../../components/utils/loading';\nimport useExpenseVsIncomeSummary from '../../hooks/useExpenseVsIncomeSummary';\nimport Info from \"../../components/utils/Info\";\nimport Container from \"../../components/utils/Container\";\nimport toast, { Toaster } from \"react-hot-toast\";\n\nfunction UserStatistics() {\n    const months = getMonths()\n    const [data, isLoading, isError] = useExpenseVsIncomeSummary(months)\n\n    return (\n        <Container activeNavId={9}>\n            <Header title=\"Statistics\" />\n            <Toaster/>\n            {(isLoading) && <Loading />}\n            {(isError) && toast.error(\"Failed to fetch information. Try again later!\") }\n            {(isError) && <Info text=\"No data found!\" />}\n            {(!isError) && <IncomeVsExpenseChart data={data} />}\n        </Container>\n    )\n}\n\nexport default UserStatistics;\n\nfunction getMonths() {\n    const months = []\n    const current_date = new Date()\n\n    for (let i = 11; i >= 0; i--) {\n        const date = new Date(current_date.getFullYear(), current_date.getMonth() - i, 1)\n        months.push({\n            id: date.getMonth() + 1,\n            year: date.getFullYear(),\n            monthName: date.toLocaleString('en-US', { month: 'long' })\n        })\n    }\n\n    return months\n}"],"names":["_ref","data","_jsx","ResponsiveContainer","children","_jsxs","LineChart","width","height","margin","top","right","left","bottom","CartesianGrid","strokeDasharray","XAxis","dataKey","fontSize","YAxis","Tooltip","Legend","Line","type","name","stroke","activeDot","r","months","setData","useState","isError","setIsError","isLoading","setIsLoading","useEffect","async","UserService","getMonthlySummary","AuthService","getCurrentUser","email","then","response","status","generateData","error","getData","fetchedData","finalData","map","id","monthName","monthData","find","t","month","totalIncome","total_income","totalExpense","total_expense","current_date","Date","i","date","getFullYear","getMonth","push","year","toLocaleString","getMonths","useExpenseVsIncomeSummary","Container","activeNavId","Header","title","Toaster","Loading","toast","Info","text","IncomeVsExpenseChart"],"sourceRoot":""}