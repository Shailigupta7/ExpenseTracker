{"version":3,"file":"static/js/770.b3f4d727.chunk.js","mappings":"kLAKA,MA+FA,EA/FoCA,KAChC,MAAMC,GAAWC,EAAAA,EAAAA,OAEX,MAAEC,IAAUC,EAAAA,EAAAA,OAEZ,SAACC,EAAQ,aAAEC,EAAY,UAAEC,IAAaC,EAAAA,EAAAA,OAErCC,EAAgBC,IAAoBC,EAAAA,EAAAA,UAAS,KAC7CC,EAAWC,IAAgBF,EAAAA,EAAAA,WAAS,IACpCG,EAAWC,IAAgBJ,EAAAA,EAAAA,WAAS,GA4C7C,OACEK,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UAClBC,EAAAA,EAAAA,MAAA,QAAMF,UAAU,YAAaG,SAAUd,GA5C9Be,UACbR,GAAa,SACUS,EAAAA,EAAYC,mCAAmCC,EAAKC,MAAMC,MAC5EC,IACGC,QAAQC,IAAIF,EAASH,MACQ,YAAzBG,EAASH,KAAKM,QACdF,QAAQC,IAAIF,EAASH,MACrBvB,EAAS,8BACTS,EAAiB,KAEjBA,EAAiB,4CACrB,IAGHqB,IACG,GAAIA,EAAMJ,SAAU,CAChB,MAAMK,EAAaD,EAAMJ,SAASH,KAAKG,SACvCjB,EAAiBsB,GACjBJ,QAAQC,IAAIE,EAChB,MACIH,QAAQC,IAAIE,GACZrB,EAAiB,4CACrB,IAGRG,GAAa,EAAM,IAmB+CK,SAAA,EAC1DF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,uBAAsBF,EAAAA,EAAAA,KAAA,SAEtBF,GACIK,EAAAA,EAAAA,MAAA,OAAKF,UAAU,MAAKC,SAAA,CAAC,oBAAkBf,EAAM,SACzB,KAAjBM,GACDU,EAAAA,EAAAA,MAAA,OAAKF,UAAU,MAAKC,SAAA,CAAC,2CAAuCF,EAAAA,EAAAA,KAAA,QAAMiB,MAAO,CAACC,WAAW,IAAMC,MAAM,SAASjB,SAAEf,IAAa,QACzHa,EAAAA,EAAAA,KAAAoB,EAAAA,SAAA,IAGY,KAAjB3B,IAAwBO,EAAAA,EAAAA,KAAA,KAAAE,SAAIT,KAGjCU,EAAAA,EAAAA,MAAA,OAAKF,UAAU,YAAWC,SAAA,EACtBF,EAAAA,EAAAA,KAAA,SACAqB,YAAY,0BACRC,KAAK,UACDjC,EAAS,OAAQ,CACjBkC,SAAU,wBAGjBhC,EAAUiC,OAAOf,OAAQT,EAAAA,EAAAA,KAAA,SAAAE,SAAQX,EAAUiC,OAAOf,KAAKgB,cAG5DzB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,MAAMgB,MAAO,CAACC,WAAY,IAAKQ,UAAW,UAAUxB,SAAC,+EACpEF,EAAAA,EAAAA,KAAA,UAEAA,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UACtBF,EAAAA,EAAAA,KAAA,SAAOsB,KAAK,SAASK,MAAO/B,EAAY,YAAc,SACrDK,UAAWL,EAAY,6BAA+B,0BAI3DI,EAAAA,EAAAA,KAAA,UACAG,EAAAA,EAAAA,MAAA,OAAKF,UAAU,MAAKC,SAAA,CAAC,qBAAiBF,EAAAA,EAAAA,KAAA,QAAMiB,MAAO,CAACW,OAAQ,WAAYC,QAlDjExB,UACfN,GAAa,SACUO,EAAAA,EAAYwB,mCAAmC3C,GAAOuB,MACxEC,IACGC,QAAQC,IAAIF,EAASH,KAAKiB,SAC1B/B,EAAiB,GAAG,IAEvBqB,IACGrB,EAAiB,2BAA2B,IAGlDK,GAAa,EAAM,EAuCgFE,UAAU,cAAaC,SAAEN,EAAY,eAAiB,uBAEzJ,C","sources":["pages/auth/register/userRegistrationVerification.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport {useForm} from 'react-hook-form';\nimport AuthService from '../../../services/auth.service';\n\nconst UserRegistrationVerfication = () => {\n    const navigate = useNavigate();\n    \n    const { email } = useParams(); \n\n    const {register, handleSubmit, formState} = useForm();\n\n    const [response_error, setResponseError] = useState(\"\");\n    const [isLoading, setIsLoading] = useState(false);\n    const [isSending, setIsSending] = useState(false);\n\n    const onSubmit = async (data) => {\n        setIsLoading(true)        \n        const response = await AuthService.verifyRegistrationVerificationCode(data.code).then(\n            (response) => {\n                console.log(response.data);\n                if (response.data.status === \"SUCCESS\") {\n                    console.log(response.data);\n                    navigate('/auth/success-registration')\n                    setResponseError(\"\");\n                }else {\n                    setResponseError(\"Verification failed: Cannot resend email!\")\n                }\n                \n            },\n            (error) => {\n                if (error.response) {\n                    const resMessage = error.response.data.response;\n                    setResponseError(resMessage);\n                    console.log(error);\n                }else {\n                    console.log(error);\n                    setResponseError(\"Verification failed: Cannot resend email!\")\n                }\n            }\n          );\n        setIsLoading(false);\n    }\n\n    const resendCode = async() =>{\n        setIsSending(true)         \n        const response = await AuthService.resendRegistrationVerificationCode(email).then(\n            (response) => {\n                console.log(response.data.message);\n                setResponseError(\"\");\n            },\n            (error) => {\n                setResponseError(\"cannot send email again!\");\n            }\n          );\n          setIsSending(false)  \n    }\n\n  return (\n    <div className='container'>\n            <form className=\"auth-form\"  onSubmit={handleSubmit(onSubmit)}>\n                <h2>Verify your email</h2><br/>\n                {\n                    isSending ? \n                        <div className='msg'>Sending email to {email}...</div> \n                        : (response_error===\"\") \n                        ? <div className='msg'>The verification code has been sent to <span style={{fontWeight:600,  color:'green'}}>{email}</span>.</div>\n                        : <></>\n                }\n                {\n                    (response_error!==\"\") && <p>{response_error}</p>\n                }\n                \n                <div className='input-box'>\n                    <input \n                    placeholder='Enter verification code'\n                        type='text'\n                        {...register('code', {\n                            required: \"Code is required!\",\n                        })}\n                    />\n                    {formState.errors.code && <small>{formState.errors.code.message}</small>}\n                </div>\n\n                <div className='msg' style={{fontWeight: 600, fontStyle: 'italic'}}>Please not that the verification code will be expired with in 15 minutes!</div>\n                <br/>\n\n                <div className='input-box'>\n                    <input type='submit' value={isLoading ? \"Verifying\" : 'Verify'}\n                     className={isLoading ? \"button button-fill loading\" : \"button button-fill\"}\n                    />\n                </div>\n\n                <br/>\n                <div className='msg'>Having problems? <span style={{cursor: 'pointer'}} onClick={resendCode} className='inline-link'>{isLoading ? \"Sending code\" : 'Resend code'}</span></div>\n            </form>\n    </div>\n  );\n};\n\nexport default UserRegistrationVerfication;\n"],"names":["UserRegistrationVerfication","navigate","useNavigate","email","useParams","register","handleSubmit","formState","useForm","response_error","setResponseError","useState","isLoading","setIsLoading","isSending","setIsSending","_jsx","className","children","_jsxs","onSubmit","async","AuthService","verifyRegistrationVerificationCode","data","code","then","response","console","log","status","error","resMessage","style","fontWeight","color","_Fragment","placeholder","type","required","errors","message","fontStyle","value","cursor","onClick","resendRegistrationVerificationCode"],"sourceRoot":""}