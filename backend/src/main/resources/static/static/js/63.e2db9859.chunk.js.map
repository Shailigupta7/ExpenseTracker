{"version":3,"file":"static/js/63.e2db9859.chunk.js","mappings":"uJAiBA,SAASA,EAAGC,GAAwB,IAAvB,OAACC,EAAM,IAAEC,EAAG,MAAEC,GAAMH,EAC7B,OACII,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACID,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACIC,EAAAA,EAAAA,KAAA,MAAAD,SAAKJ,KACLK,EAAAA,EAAAA,KAAA,MAAAD,SAAKF,QAETG,EAAAA,EAAAA,KAAA,OAAKJ,IAAKA,MAGtB,CAEA,QAxBA,SAA2BK,GAAqE,IAApE,aAAEC,EAAY,cAAEC,EAAa,aAAEC,EAAY,mBAAEC,GAAoBJ,EAEzF,OACIH,EAAAA,EAAAA,MAAA,OAAKQ,UAAU,UAASP,SAAA,EACpBC,EAAAA,EAAAA,KAACP,EAAG,CAACE,OAAQ,OAASO,EAAcN,I,ioWAAgBC,MAAM,YAC1DG,EAAAA,EAAAA,KAACP,EAAG,CAACE,OAAQ,OAASQ,EAAeP,I,ihaAAiBC,MAAM,aAC5DG,EAAAA,EAAAA,KAACP,EAAG,CAACE,OAAQ,OAASS,EAAcR,I,qsVAAoBC,MAAM,kBAC9DG,EAAAA,EAAAA,KAACP,EAAG,CAACE,OAAQU,EAAoBT,I,yjJAAqBC,MAAM,yBAGxE,E,gECoBA,QAhCA,SAA6BI,GAAuB,IAAtB,gBAAEM,GAAiBN,EAC7C,MAAMO,EAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAExG,OACIR,EAAAA,EAAAA,KAAA,OAAKM,UAAU,QAAOP,UAClBC,EAAAA,EAAAA,KAACS,EAAAA,EAAmB,CAAAV,UAChBD,EAAAA,EAAAA,MAACY,EAAAA,EAAQ,CAACC,MAAO,GAAIC,OAAQ,IAAIb,SAAA,EAC7BC,EAAAA,EAAAA,KAACa,EAAAA,EAAG,CACAC,KAAMP,EACNQ,GAAI,IACJC,GAAI,IACJC,YAAa,GACbC,YAAa,IACbC,KAAK,UACLC,aAAc,EACdC,QAAQ,SACRC,OAAK,EAAAvB,SAEJQ,EAAgBgB,KAAI,CAACC,EAAOC,KACzBzB,EAAAA,EAAAA,KAAC0B,EAAAA,EAAI,CAAuBP,KAAMX,EAAOiB,EAAQjB,EAAOmB,SAAQ,QAAAC,OAA7CH,SAG3BzB,EAAAA,EAAAA,KAAC6B,EAAAA,EAAM,CAACR,QAAQ,cAChBrB,EAAAA,EAAAA,KAAC8B,EAAAA,EAAO,UAO5B,E,gCC0DA,QAtFA,SAAe7B,GAA0D,IAAzD,aAAC8B,EAAY,aAAEC,EAAY,WAAEC,EAAU,aAAEC,GAAajC,EAElE,MAAM,SAAEkC,EAAQ,aAAEC,EAAY,MAAEC,EAAK,UAAEC,IAAcC,EAAAA,EAAAA,OAC9CC,EAAYC,IAAiBC,EAAAA,EAAAA,WAAS,GAGvCC,EAAcC,IAChBA,EAAEC,iBACFJ,GAAeD,GACfH,EAAM,CAAC1C,OAAQqC,GAAc,EAS3Bc,EAAQ,CACV,CAAEC,KAAM,QAASC,MAAOjB,GACxB,CAAEgB,KAAM,SAAUC,MAhBLhB,EAAaD,EAAe,EAAK,EAAIC,EAAaD,IAmB7DkB,EAAU,CAAC,UAAW,WAE5B,OACInD,EAAAA,EAAAA,MAAAoD,EAAAA,SAAA,CAAAnD,SAAA,EACID,EAAAA,EAAAA,MAAA,OAAKQ,UAAU,QAAOP,SAAA,EAClBD,EAAAA,EAAAA,MAAA,OAAKQ,UAAU,YAAWP,SAAA,EACtBD,EAAAA,EAAAA,MAAA,MAAAC,SAAA,CAAI,WAASiC,KAERE,EAAaiB,MAAO,IAAIC,MAAOC,WAAa,IAAQrD,EAAAA,EAAAA,KAAA,UAAQsD,QAASX,EAAW5C,SAAC,aAG1FC,EAAAA,EAAAA,KAACS,EAAAA,EAAmB,CAACG,OAAQ,IAAIb,UAC7BD,EAAAA,EAAAA,MAACY,EAAAA,EAAQ,CAACC,MAAO,GAAIC,OAAQ,IAAIb,SAAA,EAC7BC,EAAAA,EAAAA,KAACa,EAAAA,EAAG,CACAC,KAAMgC,EACN/B,GAAI,IACJC,GAAI,IACJuC,WAAY,IACZC,SAAU,EACVvC,YAAa,GACbC,YAAa,IACbC,KAAK,UACLC,aAAc,EACdC,QAAQ,QACRC,OAAK,EAAAvB,SAEJ+C,EAAMvB,KAAI,CAACC,EAAOC,KACfzB,EAAAA,EAAAA,KAAC0B,EAAAA,EAAI,CAAuBP,KAAM8B,EAAQxB,IAAO,QAAAG,OAA9BH,SAG3BzB,EAAAA,EAAAA,KAAC6B,EAAAA,EAAM,KACP7B,EAAAA,EAAAA,KAAC8B,EAAAA,EAAO,UAGhBhC,EAAAA,EAAAA,MAAA,MAAAC,SAAA,CAAI,cAAYiC,EAAeD,SAGnC/B,EAAAA,EAAAA,KAAA,OAAKM,UAAWkC,EAAa,qBAAuB,cAAczC,UAC9DD,EAAAA,EAAAA,MAAA,QAAMQ,UAAU,mBAAmBmD,SAAUrB,GAjDvCsB,IACdzB,EAAWyB,GACXjB,GAAeD,GACfH,EAAM,CAAC1C,OAAQqC,GAAc,IA8C+CjC,SAAA,EAChEC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,qBACJC,EAAAA,EAAAA,KAAA,UACAF,EAAAA,EAAAA,MAAA,OAAKQ,UAAU,YAAWP,SAAA,EACtBC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,YAAcC,EAAAA,EAAAA,KAAA,UACrBA,EAAAA,EAAAA,KAAA,SACI2D,KAAK,UACDxB,EAAS,SAAU,CACnByB,SAAU,sBACVC,QAAS,CAAEb,MAAO,gBAAiBc,QAAS,uBAGnDxB,EAAUyB,OAAOpE,SAAUK,EAAAA,EAAAA,KAAA,SAAAD,SAAQuC,EAAUyB,OAAOpE,OAAOmE,cAEhEhE,EAAAA,EAAAA,MAAA,OAAKQ,UAAU,kBAAiBP,SAAA,EAC5BC,EAAAA,EAAAA,KAAA,SAAO2D,KAAK,SAASX,MAAM,OACvB1C,UAAU,wBACdN,EAAAA,EAAAA,KAAA,SAAO2D,KAAK,SAASrD,UAAU,iBAAiB0C,MAAM,SAASM,QAAUV,GAAMD,EAAWC,eAMlH,E,kCC4BA,QAhHA,SAAsBV,GAAe,IAADjC,EAChC,MAAOC,EAAc8D,IAAatB,EAAAA,EAAAA,UAAS,IACpCvC,EAAe8D,IAAcvB,EAAAA,EAAAA,UAAS,IACtCrC,EAAoB6D,IAAmBxB,EAAAA,EAAAA,UAAS,GACjDtC,EAAeF,EAAeC,EAAgBgE,OAAoC,QAA9BlE,EAAEC,EAAeC,SAAa,IAAAF,OAAA,EAA7BA,EAAgCmE,QAAQ,IAAM,GAClGC,IAAcC,EAAAA,EAAAA,MACd/D,EAAiBgE,IAAsB7B,EAAAA,EAAAA,UAAS,KAChDV,EAAcwC,IAAmB9B,EAAAA,EAAAA,UAAS,IAC1C+B,EAAWC,IAAgBhC,EAAAA,EAAAA,WAAS,IACpCiC,EAASC,IAAclC,EAAAA,EAAAA,WAAS,GA0DjCmC,EAAcC,UAChBJ,GAAa,SACUK,EAAAA,EAAYC,UAAU9C,EAAaiB,GAAIjB,EAAa+C,MACtEC,MAAMC,IACHX,EAAgBW,EAASrE,KAAKqE,SAAS,IAE1CC,OAAOC,IACJT,GAAW,EAAK,IAExBF,GAAa,EAAM,EAqBvB,OARAY,EAAAA,EAAAA,YAAU,KA7EyBR,WAC/BJ,GAAa,SACiBK,EAAAA,EAAYQ,wBAAwBC,EAAAA,EAAYC,iBAAiBtC,GAAI,EAAGjB,EAAaiB,GAAIjB,EAAa+C,MAAMC,MACrIC,IACgC,YAAzBA,EAASrE,KAAK4E,QACd1B,EAAUG,OAAQgB,EAASrE,KAAKqE,SAAYA,EAASrE,KAAKqE,SAASf,QAAQ,GAAK,GACpF,IAEHiB,IACGT,GAAW,EAAK,UAIOG,EAAAA,EAAYQ,wBAAwBC,EAAAA,EAAYC,iBAAiBtC,GAAI,EAAGjB,EAAaiB,GAAIjB,EAAa+C,MAAMC,MACtIC,IACgC,YAAzBA,EAASrE,KAAK4E,QACdzB,EAAWE,OAAQgB,EAASrE,KAAKqE,SAAYA,EAASrE,KAAKqE,SAASf,QAAQ,GAAK,GACrF,IAEHiB,IACGT,GAAW,EAAK,UAIEG,EAAAA,EAAYY,yBAAyBH,EAAAA,EAAYC,iBAAiBtC,GAAIjB,EAAaiB,GAAIjB,EAAa+C,MAAMC,MAC/HC,IACgC,YAAzBA,EAASrE,KAAK4E,QACdxB,EAAgBiB,EAASrE,KAAKqE,SAClC,IAEHE,IACGT,GAAW,EAAK,IAGxBF,GAAa,EAAM,EA4CnBkB,GACIvB,GAzCwBS,WAC5BJ,GAAa,GACb,MAAMmB,EAAW,SACXC,QAAQC,IAAI1B,EAAW2B,QAAOC,GAAiD,IAA1CA,EAAIC,gBAAgBC,oBAAyB5E,KAAIuD,UACxF,IACI,MAAMK,QAAiBJ,EAAAA,EAAYqB,mBAAmBZ,EAAAA,EAAYC,iBAAiBY,MAAOJ,EAAIK,WAAYpE,EAAaiB,GAAIjB,EAAa+C,MAC3G,YAAzBE,EAASrE,KAAK4E,QAAwBP,EAASrE,KAAKqE,UACpDU,EAASU,KAAK,CAAExD,KAAMkD,EAAIO,aAAc7G,OAAQwE,OAAOgB,EAASrE,KAAKqE,SAAWA,EAASrE,KAAKqE,SAASf,QAAQ,GAAK,IAE5H,CAAE,MAAOiB,GACLT,GAAW,EACf,MAEJL,EAAmBsB,GACnBnB,GAAa,EAAM,EA4Bf+B,GAEJ5B,GAAa,GACd,CAAC3C,EAAcmC,IAEX,CACHlE,EACAD,EACAE,EACAC,EACAE,EACAyB,EAxBe8C,gBACQC,EAAAA,EAAY2B,aAAaC,EAAEhH,QAC7CuF,MAAMC,QAENC,OAAOC,IACJT,GAAW,EAAK,IAExBC,GAAa,EAmBbJ,EACAE,EAIR,E,4CCpEA,QAnCA,WAEI,MAAMiC,EAmCV,WACI,MAAMA,EAAS,GACTC,EAAe,IAAIzD,KAEzB,IAAK,IAAI0D,EAAI,EAAGA,GAAK,GAAIA,IAAK,CAC1B,MAAMC,EAAO,IAAI3D,KAAKyD,EAAaG,cAAeH,EAAaxD,WAAayD,EAAG,GAC/EF,EAAOL,KAAK,CACRpD,GAAI4D,EAAK1D,WAAa,EACtB4B,KAAM8B,EAAKC,cACXC,UAAWF,EAAKG,eAAe,QAAS,CAAEC,MAAO,UAEzD,CAEA,OAAOP,CACX,CAjDmBQ,IACRlF,EAAcmF,IAAY3E,EAAAA,EAAAA,UAASkE,EAAO,KAE1CzG,EAAeD,EAAcE,EAAcC,EAAoBE,EAAiByB,EACnFC,EAAYwC,EAAWE,GAAW2C,EAAapF,GAOnD,OACIpC,EAAAA,EAAAA,MAACyH,EAAAA,EAAS,CAACC,YAAa,EAAEzH,SAAA,EACtBC,EAAAA,EAAAA,KAACyH,EAAAA,EAAM,CAAC5H,MAAM,eACdG,EAAAA,EAAAA,KAAC0H,EAAAA,GAAO,IACNjD,IAAczE,EAAAA,EAAAA,KAAC2H,EAAAA,EAAO,IACtBhD,GAAYiD,EAAAA,GAAMvC,MAAM,kDACvBV,IAAY3E,EAAAA,EAAAA,KAAC6H,EAAW,CAACjB,OAAQA,EAAQkB,cAX7B3E,IACnB,MAAMgE,EAAQP,EAAOmB,MAAKC,GAAKA,EAAE7E,IAAMA,IACvCkE,EAASF,EAAM,KAUR1C,GAAgC,IAAlBtE,IAAwBH,EAAAA,EAAAA,KAACiI,EAAAA,EAAI,CAACC,KAAM,yCAE/CvD,GAA6B,IAAlBxE,IAAwBL,EAAAA,EAAAA,MAAAoD,EAAAA,SAAA,CAAAnD,SAAA,EACjCC,EAAAA,EAAAA,KAACmI,EAAkB,CAAChI,cAAeA,EAAeD,aAAcA,EAAcE,aAAcA,EAAcC,mBAAoBA,KAC9HP,EAAAA,EAAAA,MAAA,OAAKQ,UAAU,kBAAiBP,SAAA,EAC5BC,EAAAA,EAAAA,KAACoI,EAAoB,CAAC7H,gBAAiBA,KACvCP,EAAAA,EAAAA,KAACqI,EAAM,CAACtG,aAAc5B,EAAe6B,aAAcA,EAAcC,WAAYA,EAAYC,aAAcA,YAO/H,EAoBA,SAAS2F,EAAW5H,GAA6B,IAA5B,OAAE2G,EAAM,cAAEkB,GAAe7H,EAC1C,OACID,EAAAA,EAAAA,KAAA,OAAAD,UACIC,EAAAA,EAAAA,KAAA,UAAQsI,SAAW1F,GAAMkF,EAAclF,EAAE2F,OAAOvF,OAAOjD,SAE/C6G,EAAOrF,KAAKyG,IAEJlI,EAAAA,EAAAA,MAAA,UAAQkD,MAAOgF,EAAE7E,GAAGpD,SAAA,CAAaiI,EAAEf,UAAU,IAAEe,EAAE/C,OAAvB+C,EAAE7E,SAOxD,C","sources":["components/userDashboard/dashboardDetailBox.js","components/userDashboard/categoryExpenseChart.js","components/userDashboard/budget.js","hooks/useDashboard.js","pages/user/dashboard.js"],"sourcesContent":["import incomeImg from '../../assets/images/income.png'\nimport expenseImg from '../../assets/images/expense.png'\nimport cashInHandImg from '../../assets/images/cashInHand.png'\nimport transactionImg from '../../assets/images/transaction.png'\n\nfunction DashboardDetailBox({ total_income, total_expense, cash_in_hand, no_of_transactions }) {\n\n    return (\n        <div className='details'>\n            <Box amount={'Rs. ' + total_income} src={incomeImg} title=\"Income\"/>\n            <Box amount={'Rs. ' + total_expense} src={expenseImg} title=\"Expense\"/>\n            <Box amount={'Rs. ' + cash_in_hand} src={cashInHandImg} title=\"Cash in hand\"/>\n            <Box amount={no_of_transactions} src={transactionImg} title=\"No of transactions\"/>\n        </div>\n    )\n}\n\nfunction Box({amount, src, title}) {\n    return (\n        <div>\n            <div>\n                <h2>{amount}</h2>\n                <h4>{title}</h4>\n            </div>\n            <img src={src}/>\n        </div>\n    )\n}\n\nexport default DashboardDetailBox;","import { PieChart, Pie, Cell, ResponsiveContainer, Tooltip, Legend } from 'recharts';\n\n\nfunction CategoryExpenseChart({ categorySummary }) {\n    const COLORS = [\"#ff6e6e\", \"#ffb26e\", \"#e6cd10\", \"#00a33c\", \"#6ea1ff\", \"#a36eff\", \"#ff6eff\", \"#6ee0ff\", \"#676d6e\"];\n\n    return (\n        <div className='chart'>\n            <ResponsiveContainer>\n                <PieChart width={50} height={100}>\n                    <Pie\n                        data={categorySummary}\n                        cx={280}\n                        cy={135}\n                        innerRadius={80}\n                        outerRadius={110}\n                        fill=\"#8884d8\"\n                        paddingAngle={0}\n                        dataKey=\"amount\"\n                        label\n                    >\n                        {categorySummary.map((entry, index) => (\n                            <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                        ))}\n                    </Pie>\n                    <Legend dataKey='category' />\n                    <Tooltip />\n                </PieChart>\n            </ResponsiveContainer>\n        </div>\n\n\n    )\n}\n\nexport default CategoryExpenseChart;","import { useState } from \"react\";\nimport { useForm } from 'react-hook-form';\nimport { PieChart, Pie, Cell, ResponsiveContainer, Tooltip, Legend } from 'recharts';\nimport '../../assets/styles/transactionList.css'\n\nfunction Budget({totalExpense, budgetAmount, saveBudget, currentMonth}) {\n\n    const { register, handleSubmit, reset, formState } = useForm();\n    const [formToggle, setFormToggle] = useState(false)\n    const balance = (budgetAmount-totalExpense < 0) ? 0 : budgetAmount-totalExpense\n\n    const toggleForm = (e) => {\n        e.preventDefault()\n        setFormToggle(!formToggle)\n        reset({amount: budgetAmount})\n    }\n\n    const onSubmit = (formData) => {\n        saveBudget(formData)\n        setFormToggle(!formToggle)\n        reset({amount: budgetAmount})\n    }\n\n    const data2 = [\n        { name: 'Spent', value: totalExpense },\n        { name: 'Balace', value:  balance}\n    ];\n\n    const COLORS2 = [\"#ff6464\", \"#53d37d\"];\n\n    return (\n        <>\n            <div className='chart'>\n                <div className=\"chart-top\">\n                    <h2>Budget: {budgetAmount}</h2> \n                    {\n                        (currentMonth.id === new Date().getMonth() + 1) && ( <button onClick={toggleForm}>Edit</button> )\n                    }\n                </div>\n                <ResponsiveContainer height={220}>\n                    <PieChart width={50} height={100}>\n                        <Pie\n                            data={data2}\n                            cx={280}\n                            cy={140}\n                            startAngle={180}\n                            endAngle={0}\n                            innerRadius={80}\n                            outerRadius={110}\n                            fill=\"#8884d8\"\n                            paddingAngle={0}\n                            dataKey=\"value\"\n                            label\n                        >\n                            {data2.map((entry, index) => (\n                                <Cell key={`cell-${index}`} fill={COLORS2[index]} />\n                            ))}\n                        </Pie>\n                        <Legend />\n                        <Tooltip />\n                    </PieChart>\n                </ResponsiveContainer>\n                <h4>Remaining: {budgetAmount - totalExpense}</h4>\n            </div>\n\n            <div className={formToggle ? 'budget-form active' : 'budget-form'}>\n                <form className='auth-form t-form' onSubmit={handleSubmit(onSubmit)}>\n                    <h1>Budget settings</h1>\n                    <hr/>\n                    <div className='input-box'>\n                        <label>Amount</label><br />\n                        <input\n                            type='text'\n                            {...register('amount', {\n                                required: \"Amount is required!\",\n                                pattern: { value: /^[0-9.]{1,}$/g, message: \"Invalid amount!\" }\n                            })}\n                        />\n                        {formState.errors.amount && <small>{formState.errors.amount.message}</small>}\n                    </div>\n                    <div className='t-btn input-box'>\n                        <input type='submit' value=\"Save\"\n                            className=\"button button-fill\" />\n                        <input type='submit' className='button outline' value='Cancel' onClick={(e) => toggleForm(e)} />\n                    </div>\n                </form>\n            </div>\n        </>\n    )\n}\n\nexport default Budget;","import { useEffect, useState } from \"react\";\nimport useCategories from \"./useCategories\";\nimport UserService from \"../services/userService\";\nimport AuthService from \"../services/auth.service\";\n\nfunction useDashboard(currentMonth) {\n    const [total_income, setIncome] = useState(0)\n    const [total_expense, setExpense] = useState(0)\n    const [no_of_transactions, setTransactions] = useState(0)\n    const cash_in_hand = total_income > total_expense ? Number((total_income - total_expense)?.toFixed(2)) : 0;\n    const [categories] = useCategories()\n    const [categorySummary, setCategorySummary] = useState([])\n    const [budgetAmount, setBudgetAmount] = useState(0)\n    const [isLoading, setIsLoading] = useState(true);\n    const [isError, setIsError] = useState(false);\n\n\n    const generateTransactionSummary = async () => {\n        setIsLoading(true)\n        const income_response = await UserService.getTotalIncomeOrExpense(AuthService.getCurrentUser().id, 2, currentMonth.id, currentMonth.year).then(\n            (response) => {\n                if (response.data.status === \"SUCCESS\") {\n                    setIncome(Number((response.data.response) ? response.data.response.toFixed(2) : 0))\n                }\n            },\n            (error) => {\n                setIsError(true)\n            }\n        )\n\n        const expense_response = await UserService.getTotalIncomeOrExpense(AuthService.getCurrentUser().id, 1, currentMonth.id, currentMonth.year).then(\n            (response) => {\n                if (response.data.status === \"SUCCESS\") {\n                    setExpense(Number((response.data.response) ? response.data.response.toFixed(2) : 0))\n                }\n            },\n            (error) => {\n                setIsError(true)\n            }\n        )\n\n        const no_response = await UserService.getTotalNoOfTransactions(AuthService.getCurrentUser().id, currentMonth.id, currentMonth.year).then(\n            (response) => {\n                if (response.data.status === \"SUCCESS\") {\n                    setTransactions(response.data.response)\n                }\n            },\n            (error) => {\n                setIsError(true)\n            }\n        )\n        setIsLoading(false)\n\n    }\n\n    const generateCategorySummary = async () => {\n        setIsLoading(true)\n        const filtered = [];\n        await Promise.all(categories.filter(cat => cat.transactionType.transactionTypeId === 1).map(async (cat) => {\n            try {\n                const response = await UserService.getTotalByCategory(AuthService.getCurrentUser().email, cat.categoryId, currentMonth.id, currentMonth.year);\n                if (response.data.status === \"SUCCESS\" && response.data.response) {\n                    filtered.push({ name: cat.categoryName, amount: Number(response.data.response ? response.data.response.toFixed(2) : 0) });\n                }\n            } catch (error) {\n                setIsError(true)\n            }\n        }));\n        setCategorySummary(filtered)\n        setIsLoading(false)\n    }\n\n    const fetchBudget = async () => {\n        setIsLoading(true)\n        const response = await UserService.getBudget(currentMonth.id, currentMonth.year)\n            .then((response) => {\n                setBudgetAmount(response.data.response)\n            })\n            .catch((error) => {\n                setIsError(true)\n            })\n        setIsLoading(false)\n    }\n\n    const saveBudget = async (d) => {\n        const response = await UserService.createBudget(d.amount)\n            .then((response) => {\n            })\n            .catch((error) => {\n                setIsError(true)\n            })\n        fetchBudget()\n    }\n\n    useEffect(() => {\n        generateTransactionSummary()\n        if (categories) {\n            generateCategorySummary()\n        }\n        fetchBudget()\n    }, [currentMonth, categories])\n\n    return [\n        total_expense,\n        total_income,\n        cash_in_hand,\n        no_of_transactions,\n        categorySummary,\n        budgetAmount,\n        saveBudget,\n        isLoading,\n        isError\n    ]\n\n\n}\n\nexport default useDashboard;","import '../../assets/styles/dashboard.css';\nimport { useState } from 'react';\nimport DashboardDetailBox from '../../components/userDashboard/dashboardDetailBox';\nimport CategoryExpenseChart from '../../components/userDashboard/categoryExpenseChart';\nimport Header from '../../components/utils/header';\nimport Budget from '../../components/userDashboard/budget';\nimport useDashboard from '../../hooks/useDashboard';\nimport Loading from '../../components/utils/loading';\nimport Info from '../../components/utils/Info';\nimport Container from '../../components/utils/Container';\nimport toast, { Toaster } from 'react-hot-toast';\n\nfunction Dashboard() {\n\n    const months = getMonths()\n    const [currentMonth, setMonth] = useState(months[0])\n\n    const [total_expense, total_income, cash_in_hand, no_of_transactions, categorySummary, budgetAmount,\n        saveBudget, isLoading, isError] = useDashboard(currentMonth)\n\n    const onMonthChange = (id) => {\n        const month = months.find(m => m.id == id)\n        setMonth(month)\n    }\n\n    return (\n        <Container activeNavId={0}>\n            <Header title=\"Dashboard\" />\n            <Toaster/>\n            {(isLoading) && <Loading />}\n            {(isError) && toast.error(\"Failed to fetch information. Try again later!\")}\n            {(!isError) && <SelectMonth months={months} onMonthChange={onMonthChange} />}\n            {(!isLoading &&  total_expense === 0) && <Info text={\"You have no expenses in this month!\"} />}\n            {\n                (!isError && total_expense !== 0) && <>\n                    <DashboardDetailBox total_expense={total_expense} total_income={total_income} cash_in_hand={cash_in_hand} no_of_transactions={no_of_transactions} />\n                    <div className='dashboard-chart'>\n                        <CategoryExpenseChart categorySummary={categorySummary} />\n                        <Budget totalExpense={total_expense} budgetAmount={budgetAmount} saveBudget={saveBudget} currentMonth={currentMonth} />\n                    </div>\n                </>\n            }\n        </Container>\n\n    )\n}\n\nexport default Dashboard;\n\nfunction getMonths() {\n    const months = []\n    const current_date = new Date()\n\n    for (let i = 0; i <= 11; i++) {\n        const date = new Date(current_date.getFullYear(), current_date.getMonth() - i, 1)\n        months.push({\n            id: date.getMonth() + 1,\n            year: date.getFullYear(),\n            monthName: date.toLocaleString('en-US', { month: 'long' })\n        })\n    }\n\n    return months;\n}\n\nfunction SelectMonth({ months, onMonthChange }) {\n    return (\n        <div>\n            <select onChange={(e) => onMonthChange(e.target.value)}>\n                {\n                    months.map((m) => {\n                        return (\n                            <option value={m.id} key={m.id}>{m.monthName} {m.year}</option>\n                        )\n                    })\n                }\n            </select>\n        </div>\n    )\n}"],"names":["Box","_ref2","amount","src","title","_jsxs","children","_jsx","_ref","total_income","total_expense","cash_in_hand","no_of_transactions","className","categorySummary","COLORS","ResponsiveContainer","PieChart","width","height","Pie","data","cx","cy","innerRadius","outerRadius","fill","paddingAngle","dataKey","label","map","entry","index","Cell","length","concat","Legend","Tooltip","totalExpense","budgetAmount","saveBudget","currentMonth","register","handleSubmit","reset","formState","useForm","formToggle","setFormToggle","useState","toggleForm","e","preventDefault","data2","name","value","COLORS2","_Fragment","id","Date","getMonth","onClick","startAngle","endAngle","onSubmit","formData","type","required","pattern","message","errors","setIncome","setExpense","setTransactions","Number","toFixed","categories","useCategories","setCategorySummary","setBudgetAmount","isLoading","setIsLoading","isError","setIsError","fetchBudget","async","UserService","getBudget","year","then","response","catch","error","useEffect","getTotalIncomeOrExpense","AuthService","getCurrentUser","status","getTotalNoOfTransactions","generateTransactionSummary","filtered","Promise","all","filter","cat","transactionType","transactionTypeId","getTotalByCategory","email","categoryId","push","categoryName","generateCategorySummary","createBudget","d","months","current_date","i","date","getFullYear","monthName","toLocaleString","month","getMonths","setMonth","useDashboard","Container","activeNavId","Header","Toaster","Loading","toast","SelectMonth","onMonthChange","find","m","Info","text","DashboardDetailBox","CategoryExpenseChart","Budget","onChange","target"],"sourceRoot":""}